<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Portal 2D: C:/Users/bruno/Downloads/MINIX-LCOM/destination/MINIX-LCOM/shared/proj/Src/kbc.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="DpEtRtG.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Portal 2D
   </div>
   <div id="projectbrief">2D game inspired in the famous game &#39;Portal&#39; for Minix</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_413f4e031a85da0d68269c6fd2f76e1c.html">Src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">kbc.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="kbc_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef KBC_H</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define KBC_H</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160; </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;stdbool.h&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="group__kbc.html#ga16c5827f043d82f87c726c2d4369c11d">   14</a></span>&#160;<span class="preprocessor">#define KBC_IRQ 1</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="group__kbc.html#ga6f977b36b770dca3092d0bdf8c949cfe">   16</a></span>&#160;<span class="preprocessor">#define KBC_ST_REG 0x64</span></div>
<div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="group__kbc.html#ga6d57c7927a10f638c83046b52c8caac9">   17</a></span>&#160;<span class="preprocessor">#define KBC_CMD_REG 0x64</span></div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="group__kbc.html#gaf4cd2a6365d38e35ff54b89ff2c2526b">   18</a></span>&#160;<span class="preprocessor">#define KBC_ARG_REG 0x60</span></div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="group__kbc.html#ga1ccde68b2b6d4e45b50eef1403e10bb7">   19</a></span>&#160;<span class="preprocessor">#define KBC_OUT_BUF 0x60</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="group__kbc.html#ga36930de8a703505c95fe133095dcfe06">   21</a></span>&#160;<span class="preprocessor">#define KBC_OBF BIT(0)</span></div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="group__kbc.html#gac1649d41f8ba9a02fa70ec4e600d5e4a">   22</a></span>&#160;<span class="preprocessor">#define KBC_IBF BIT(1)</span></div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="group__kbc.html#gae31c3653f5881b02cbfdd4ccbb7ccf50">   23</a></span>&#160;<span class="preprocessor">#define KBC_TO_ERR BIT(6)</span></div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="group__kbc.html#gaea2ef6dda1aabebf291eeee29b66c04a">   24</a></span>&#160;<span class="preprocessor">#define KBC_PAR_ERR BIT(7)</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// Scan codes</span></div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="group__kbc.html#gabc6f3b87a3a14e105816feccb48819e0">   27</a></span>&#160;<span class="preprocessor">#define KBC_INV_KEY 0</span></div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="group__kbc.html#ga77b7df1d93baf0da33d54786b9a69c24">   28</a></span>&#160;<span class="preprocessor">#define ESC_KEY_PRESSED 0x01 </span></div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="group__kbc.html#ga62ba54f150c1bec409d531ba4cf9ae48">   29</a></span>&#160;<span class="preprocessor">#define ESC_KEY_RELEASED 0x81</span></div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="group__kbc.html#ga027ca50ec10d5d98fd9b2f1b77f4508f">   30</a></span>&#160;<span class="preprocessor">#define A_KEY_PRESSED 0X1E</span></div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="group__kbc.html#gadc76cebb055d2f964dc93eadfee1c217">   31</a></span>&#160;<span class="preprocessor">#define A_KEY_RELEASED 0X9E</span></div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="group__kbc.html#gab048bbf7f7013e1edd04a68bdce8945c">   32</a></span>&#160;<span class="preprocessor">#define D_KEY_PRESSED 0x20</span></div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="group__kbc.html#gae7c53878681e91e4b3eb5bd0e86d5857">   33</a></span>&#160;<span class="preprocessor">#define D_KEY_RELEASED 0xA0</span></div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="group__kbc.html#gaba6d7fc0055848eedc467d55c824ce2d">   34</a></span>&#160;<span class="preprocessor">#define W_KEY_PRESSED 0x11</span></div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="group__kbc.html#ga7a3a1d3310505a7db7b854811774907d">   35</a></span>&#160;<span class="preprocessor">#define SPACE_KEY_PRESSED 0x39</span></div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="group__kbc.html#ga6074108a710a718be6f63621317edaba">   36</a></span>&#160;<span class="preprocessor">#define S_KEY_PRESSED 0x1F</span></div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="group__kbc.html#gaa82388b8f87b60d21d39157f9a620ea9">   37</a></span>&#160;<span class="preprocessor">#define E_KEY_PRESSED 0x12</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="group__kbc.html#gafab297a390925fa2b0ef04f33d4fdad1">   39</a></span>&#160;<span class="preprocessor">#define SBYTE_CODE 0xE0 // keys with 2 bytes</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="group__kbc.html#ga9074ff93d75e44cb0baea86d2d189b6d">   41</a></span>&#160;<span class="preprocessor">#define KBC_WRITE_CMDBYTE 0X60</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="group__kbc.html#ga1a522aa19bcb695a9df30032a893bee3">   43</a></span>&#160;<span class="preprocessor">#define DELAY_US 20000</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__kbc.html#gae26ae8c4ca93e51c69a67fb2edf95801">kbc_subscribe_int</a>(uint8_t* bit_no, <span class="keywordtype">int</span> *<a class="code" href="timer_8c.html#a96f78a87d064e47d627d222f67a8d012">hook_id</a>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__kbc.html#gaa5d2c15bd797aa9fca6df3660873c9f6">kbc_unsubscribe_int</a>(<span class="keywordtype">int</span> *<a class="code" href="timer_8c.html#a96f78a87d064e47d627d222f67a8d012">hook_id</a>);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__kbc.html#ga7329d6823bd341f859b9b6123befb25e">read_out_buffer</a>(uint8_t* <span class="keywordtype">byte</span>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="group__kbc.html#ga2c9751f3d78870779ad3cbcf7256aab5">kbc_able_to_write</a>();</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="group__kbc.html#gad4f32d9fedea9a943870a7054baf77da">kbc_able_to_read</a>();</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__kbc.html#gaa1dcd642657d7da0376e36cda809b0e3">kbc_write_cmd</a>(uint8_t cmd);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__kbc.html#gab7c3aa73d53fa86cf82ef40b5032784d">kbc_write_arg</a>(uint8_t arg);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__kbc.html#gaf5c1534b686847bbdf38fa6c830871d4">kbc_int_handler</a>(uint8_t* <span class="keywordtype">byte</span>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="autils_8c_html_a79a031a8611f5b2d6afa4158e92b0fb4"><div class="ttname"><a href="utils_8c.html#a79a031a8611f5b2d6afa4158e92b0fb4">util_sys_inb</a></div><div class="ttdeci">int() util_sys_inb(int port, uint8_t *value)</div><div class="ttdef"><b>Definition:</b> utils.c:8</div></div>
<div class="ttc" id="agroup__kbc_html_gae31c3653f5881b02cbfdd4ccbb7ccf50"><div class="ttname"><a href="group__kbc.html#gae31c3653f5881b02cbfdd4ccbb7ccf50">KBC_TO_ERR</a></div><div class="ttdeci">#define KBC_TO_ERR</div><div class="ttdef"><b>Definition:</b> kbc.h:23</div></div>
<div class="ttc" id="agroup__kbc_html_gaea2ef6dda1aabebf291eeee29b66c04a"><div class="ttname"><a href="group__kbc.html#gaea2ef6dda1aabebf291eeee29b66c04a">KBC_PAR_ERR</a></div><div class="ttdeci">#define KBC_PAR_ERR</div><div class="ttdef"><b>Definition:</b> kbc.h:24</div></div>
<div class="ttc" id="agroup__kbc_html_gad4f32d9fedea9a943870a7054baf77da"><div class="ttname"><a href="group__kbc.html#gad4f32d9fedea9a943870a7054baf77da">kbc_able_to_read</a></div><div class="ttdeci">bool kbc_able_to_read()</div><div class="ttdoc">Checks if we can read from the Output Buffer.</div><div class="ttdef"><b>Definition:</b> kbc.c:55</div></div>
<div class="ttc" id="agroup__kbc_html_gaa5d2c15bd797aa9fca6df3660873c9f6"><div class="ttname"><a href="group__kbc.html#gaa5d2c15bd797aa9fca6df3660873c9f6">kbc_unsubscribe_int</a></div><div class="ttdeci">int kbc_unsubscribe_int(int *hook_id)</div><div class="ttdoc">Unsubscribes the KBC interrupts.</div><div class="ttdef"><b>Definition:</b> kbc.c:20</div></div>
<div class="ttc" id="agroup__kbc_html_ga1ccde68b2b6d4e45b50eef1403e10bb7"><div class="ttname"><a href="group__kbc.html#ga1ccde68b2b6d4e45b50eef1403e10bb7">KBC_OUT_BUF</a></div><div class="ttdeci">#define KBC_OUT_BUF</div><div class="ttdef"><b>Definition:</b> kbc.h:19</div></div>
<div class="ttc" id="akbc_8h_html"><div class="ttname"><a href="kbc_8h.html">kbc.h</a></div></div>
<div class="ttc" id="agroup__kbc_html_ga16c5827f043d82f87c726c2d4369c11d"><div class="ttname"><a href="group__kbc.html#ga16c5827f043d82f87c726c2d4369c11d">KBC_IRQ</a></div><div class="ttdeci">#define KBC_IRQ</div><div class="ttdef"><b>Definition:</b> kbc.h:14</div></div>
<div class="ttc" id="atimer_8c_html_a96f78a87d064e47d627d222f67a8d012"><div class="ttname"><a href="timer_8c.html#a96f78a87d064e47d627d222f67a8d012">hook_id</a></div><div class="ttdeci">static int hook_id</div><div class="ttdef"><b>Definition:</b> timer.c:10</div></div>
<div class="ttc" id="agroup__kbc_html_gaa1dcd642657d7da0376e36cda809b0e3"><div class="ttname"><a href="group__kbc.html#gaa1dcd642657d7da0376e36cda809b0e3">kbc_write_cmd</a></div><div class="ttdeci">int kbc_write_cmd(uint8_t cmd)</div><div class="ttdoc">Writes a command to the kbc driver.</div><div class="ttdef"><b>Definition:</b> kbc.c:66</div></div>
<div class="ttc" id="agroup__kbc_html_gab7c3aa73d53fa86cf82ef40b5032784d"><div class="ttname"><a href="group__kbc.html#gab7c3aa73d53fa86cf82ef40b5032784d">kbc_write_arg</a></div><div class="ttdeci">int kbc_write_arg(uint8_t arg)</div><div class="ttdoc">Writes an argument to the KBC_ARG Register.</div><div class="ttdef"><b>Definition:</b> kbc.c:83</div></div>
<div class="ttc" id="agroup__kbc_html_gae26ae8c4ca93e51c69a67fb2edf95801"><div class="ttname"><a href="group__kbc.html#gae26ae8c4ca93e51c69a67fb2edf95801">kbc_subscribe_int</a></div><div class="ttdeci">int kbc_subscribe_int(uint8_t *bit_no, int *hook_id)</div><div class="ttdoc">Subscribes the KBC interrupts.</div><div class="ttdef"><b>Definition:</b> kbc.c:11</div></div>
<div class="ttc" id="agroup__kbc_html_gaf4cd2a6365d38e35ff54b89ff2c2526b"><div class="ttname"><a href="group__kbc.html#gaf4cd2a6365d38e35ff54b89ff2c2526b">KBC_ARG_REG</a></div><div class="ttdeci">#define KBC_ARG_REG</div><div class="ttdef"><b>Definition:</b> kbc.h:18</div></div>
<div class="ttc" id="agroup__kbc_html_ga1a522aa19bcb695a9df30032a893bee3"><div class="ttname"><a href="group__kbc.html#ga1a522aa19bcb695a9df30032a893bee3">DELAY_US</a></div><div class="ttdeci">#define DELAY_US</div><div class="ttdef"><b>Definition:</b> kbc.h:43</div></div>
<div class="ttc" id="agroup__kbc_html_gaf5c1534b686847bbdf38fa6c830871d4"><div class="ttname"><a href="group__kbc.html#gaf5c1534b686847bbdf38fa6c830871d4">kbc_int_handler</a></div><div class="ttdeci">void kbc_int_handler(uint8_t *byte)</div><div class="ttdoc">Handles an interruptions and reads the information to byte.</div><div class="ttdef"><b>Definition:</b> kbc.c:100</div></div>
<div class="ttc" id="agroup__kbc_html_ga36930de8a703505c95fe133095dcfe06"><div class="ttname"><a href="group__kbc.html#ga36930de8a703505c95fe133095dcfe06">KBC_OBF</a></div><div class="ttdeci">#define KBC_OBF</div><div class="ttdef"><b>Definition:</b> kbc.h:21</div></div>
<div class="ttc" id="agroup__kbc_html_gabc6f3b87a3a14e105816feccb48819e0"><div class="ttname"><a href="group__kbc.html#gabc6f3b87a3a14e105816feccb48819e0">KBC_INV_KEY</a></div><div class="ttdeci">#define KBC_INV_KEY</div><div class="ttdef"><b>Definition:</b> kbc.h:27</div></div>
<div class="ttc" id="agroup__kbc_html_ga7329d6823bd341f859b9b6123befb25e"><div class="ttname"><a href="group__kbc.html#ga7329d6823bd341f859b9b6123befb25e">read_out_buffer</a></div><div class="ttdeci">int read_out_buffer(uint8_t *byte)</div><div class="ttdoc">Reads a byte from the KFC_OUT_BUF.</div><div class="ttdef"><b>Definition:</b> kbc.c:28</div></div>
<div class="ttc" id="agroup__kbc_html_ga6f977b36b770dca3092d0bdf8c949cfe"><div class="ttname"><a href="group__kbc.html#ga6f977b36b770dca3092d0bdf8c949cfe">KBC_ST_REG</a></div><div class="ttdeci">#define KBC_ST_REG</div><div class="ttdef"><b>Definition:</b> kbc.h:16</div></div>
<div class="ttc" id="agroup__kbc_html_ga2c9751f3d78870779ad3cbcf7256aab5"><div class="ttname"><a href="group__kbc.html#ga2c9751f3d78870779ad3cbcf7256aab5">kbc_able_to_write</a></div><div class="ttdeci">bool kbc_able_to_write()</div><div class="ttdoc">Checks if we can write to the Input Buffer.</div><div class="ttdef"><b>Definition:</b> kbc.c:48</div></div>
<div class="ttc" id="agroup__kbc_html_ga6d57c7927a10f638c83046b52c8caac9"><div class="ttname"><a href="group__kbc.html#ga6d57c7927a10f638c83046b52c8caac9">KBC_CMD_REG</a></div><div class="ttdeci">#define KBC_CMD_REG</div><div class="ttdef"><b>Definition:</b> kbc.h:17</div></div>
<div class="ttc" id="agroup__kbc_html_gac1649d41f8ba9a02fa70ec4e600d5e4a"><div class="ttname"><a href="group__kbc.html#gac1649d41f8ba9a02fa70ec4e600d5e4a">KBC_IBF</a></div><div class="ttdeci">#define KBC_IBF</div><div class="ttdef"><b>Definition:</b> kbc.h:22</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
